---
title: Site Customization
sidebar_position: 1
---

# Site Customization


## Add a new Tab
Commencez par choisir le nom de votre nouvel item ainsi que l'`id` qui lui sera associé.

:::note
L'`id` que vous choisirez sera utilisé :
    - dans le `docusaurus.config.ts` pour `sidebarId`
    - dans le `sidebar.ts` comme nom d'élément
:::

#### Fichier de configuration
Dans le fichier `docusaurus.config.ts`, ajoutez un nouvel `item` dans la liste `config.themeConfig.navbar.items`.
Un `item` est construit ainsi:
```ts title="docusaurus.config.ts > config > themeConfig > navbar > items"
{
    type: 'docSidebar',
    sidebarId: 'myItemSidebar',
    position: 'left',
    label: 'My Item',
}
```

#### Fichier de sidebars
Dans le fichier `sidebars.ts`, ajoutez un nouvel élément à l'objet `sidebars`.
Un élement se construit ainsi:
```ts title="sidebars.ts > sidebars"
{
    myItemSidebar: [
        type: 'autogenerated',
        dirName: 'myItem'
    ]
}
```

## Style customization
### Code blocks
#### Line counter
To enable line counter by default on every code block, add this snippet to `src/css/custom.css` :
```css title="/src/css/custom.css"
/* https://gist.github.com/uditalias/3969a20ef759bf3a8757499429b30063 */
.prism-code {
  counter-reset: line-number;
}
.prism-code .token-line::before {
  counter-increment: line-number;
  content: counter(line-number);
  margin-right: calc(var(--ifm-pre-padding) * 1.5);
  text-align: right;
  min-width: 2.5rem;
  display: inline-block;
  opacity: .3;
  position: sticky;
  left: var(--ifm-pre-padding);
}
```

#### Override Prism Theme
To override Prism Theme, create a `prismTheme.ts` in your `src` folder then past this snippet in created file :
```ts title="/src/prismTheme.ts"
import type { PrismTheme } from 'prism-react-renderer';
import { themes as prismThemes, themes } from 'prism-react-renderer';

const customPrismTheme: PrismTheme = {
    ...themes.dracula,
    plain: {
        ...themes.dracula.plain,
        backgroundColor: '#141414',
    }
}

export default customPrismTheme;
```
*In this exemple, the background color of every code block is overrided*

Then, in your `docusaurus.config.ts` insert this import on top of the file :
```ts title="docusaurus.config.ts"
import customPrismTheme from './src/prismTheme';
```

And right after that, change your Prism theme in `config.themeConfig` :
```ts title="docusaurus.config.ts > config > themeConfig"
    ...
    prism: {
      // theme: prismThemes.github,
      // darkTheme: prismThemes.dracula,
      theme: customPrismTheme,
      darkTheme: customPrismTheme,
    },
```
Themes references can be found on [Prism-React-Renderer repository](https://github.com/FormidableLabs/prism-react-renderer/tree/master/packages/prism-react-renderer/src).

#### Add new languages
[Docusaurus documentation](https://docusaurus.io/docs/markdown-features/code-blocks#supported-languages)

#### Header customization
Header customization use a custom plugin. This plugin use two separate file : 
- `/src/theme/CodeBlock/index.tsx` : Act as a top layer on original CodeBlock plugin. Responsible of implementation of the custom header

    ```tsx title="./src/theme/CodeBlock/index.tsx"
    import React from 'react';
    import OriginalCodeBlock from '@theme-original/CodeBlock';
    import type { Props } from '@theme/CodeBlock';

    const mapping: Record<string, string> = {
        js: 'JavaScript',
        jsx: 'JavaScript JSX',
        ts: 'TypeScript',
        tsx: 'TypeScript JSX',
        css: 'CSS',
        html: 'HTML',
        py: 'Python',
        cpp: 'C++',
        markdown: 'Markdown',
        rust: 'Rust',
        yaml: 'YAML',
        go: 'Go Lang',
        json: 'JSON',
        ...
    };

    function extractTitle(metastring?: string): string | null {
        if (!metastring) return null;
        const match = metastring.match(/title="([^"]+)"/);
        return match ? match[1] : null;
    }

    export default function CodeBlockWrapper(props: Props): Element {
        const { className, metastring } = props;

        const langId = className?.replace('language-', '');
        const language = langId ? mapping[langId] : null;
        const title = extractTitle(metastring);

        return (
            <div className="custom-codeblock">
            {(title || language) && (
                <div className="custom-codeblock-header">
                <span className="custom-codeblock-title">
                    {title}
                </span>
                {language && (
                    <span className="custom-codeblock-lang">
                    {language}
                    </span>
                )}
                </div>
            )}

            <OriginalCodeBlock {...props} />
            </div>
        );
    }
    ```

- `/src/css/custom.css` : Region `CodeBlock Header` is responsible of styling for the custom header
    ```css title="./src/css/custom.css > CodeBlock-Custom"
    /* Hide vanilla codeblock header */
    [class^="codeBlockTitle_"] {
        display: none;
    }
    .theme-code-block {
        margin-bottom: 0;
    }

    .custom-codeblock {
        border: 1px solid var(--ifm-color-primary-darkest);
        border-radius: var(--ifm-code-border-radius);
        margin-bottom: var(--ifm-leading);
    }
    /* Custom header */
    .custom-codeblock-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        background: var(--xgs-code-header-background);
        padding: 0.75rem var(--ifm-pre-padding);
        font-size: var(--ifm-code-font-size);
        font-weight: 500;
        border-top-left-radius: var(--ifm-code-border-radius);
        border-top-right-radius: var(--ifm-code-border-radius);
        border-bottom: 1px solid var(--ifm-color-emphasis-300);
    }

    .custom-codeblock-title {
        overflow: hidden;
        white-space: nowrap;
        text-overflow: ellipsis;
    }

    .custom-codeblock-lang {
        margin-left: 1rem;
        opacity: 0.6;
        text-transform: uppercase;
        font-size: 0.75em;
        flex-shrink: 0;
    }
    ```

## CSV Reader

{/* 
```csv title="Test CSV File - Long" maxRows="12"
./static/data/csvTestLong.csv
```
```csv title="Test CSV File"
./static/data/csvTest.csv
``` */}