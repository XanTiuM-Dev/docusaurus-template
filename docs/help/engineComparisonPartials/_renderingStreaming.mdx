## Rendering & Streaming

### Rendering & Streaming - Lecture rapide
**Godot**
> - Renderer efficace pour des jeux classique et trÃ¨s bon contrÃ´le shader.
> - Mais aucun support natif des grandes distances, tout le pipeline GPU doit Ãªtre adaptÃ© et les LOD planÃ©taire ainsi que le streaming de terrain nÃ©cessite une solution custom.

**Unreal Engine 5**
> - Domine sur le rendu local grÃ¢ce Ã  Nanite, Lumen, les Virtual Shadow Maps et le HLOD automatique.
> - Mais n'est pas pensÃ© nativement pour des planÃ¨tes visibles Ã  distance astronomique, la transition espace â†” sol, et sa prÃ©cision GPU est encore limitÃ©e.

**Unity**
> - Le renderer HDRP est solide et le moteur possÃ¨de un bon tooling gÃ©nÃ©raliste.
> - Mais aucune solution native multi-Ã©chelle, les shaders sont float-centric et le streaming de terrain est limitÃ©.

**CryEngine**
> - Excellente qualitÃ© visuelle historique et technologie de terrain solide en local.
> - Architecture vieillissante pour le seamless spatial.

**O3DE**
> - Le moteur de rendu est moderne et open-source. C'est un bon point d'entrÃ©e pour le camera-relative rendering et les shaders custom.
> - Mais n'as pas de solution planÃ©taire native ni de LOD massif comme Nanite (UE5).

#### **SynthÃ¨se**
Le rendu est lâ€™un des plus gros piÃ¨ges du SC-like.
MÃªme si :
- la simulation est en double prÃ©cision
- le monde est hiÃ©rarchisÃ©

**Le GPU reste en 32 bits** donc TOUS les moteurs doivent:
- implÃ©menter du **camera-relative rendering**
- masquer les artefacts GPU
- faire des **LOD visuels multi-Ã©chelle**
- tricher visuellement Ã  trÃ¨s grande distance

Tout les moteurs doivent rÃ©implÃ©menter Ã§a au-dessus de ce qui existe dÃ©jÃ .

### Rendering & Streaming - Features
| Feature                                  | Godot                 | Unreal Engine 5        | Unity          | CryEngine | O3DE    |
| ---------------------------------------- | --------------------- | ---------------------- | -------------- | --------- | ------- |
| Renderer moderne (Forward / Deferred)    | âœ… (Forward+ / Compat) | âœ… (Deferred / Forward) | âœ… (URP / HDRP) | âœ…         | âœ…       |
| LOD mesh classique                       | âœ… (LODMesh)           | âœ…                      | âœ…              | âœ…         | âœ…       |
| Occlusion culling                        | ğŸ› ï¸ ğŸŸ¢(basique)      | âœ…                      | ğŸ› ï¸ ğŸŸ¢        | ğŸ› ï¸ ğŸŸ¢   | ğŸ› ï¸ ğŸŸ¢ |
| HLOD automatique                         | âŒ ğŸŸ¡                | âœ…                      | âŒ ğŸŸ¡         | âŒ ğŸŸ¡    | ğŸ› ï¸ ğŸŸ¡|
| LOD massif type Nanite                   | âŒ ğŸ”´              | âœ… (Nanite)             | âŒ ğŸŸ         | âŒ ğŸŸ    | âŒ ğŸŸ  |
| Camera-relative rendering                | âŒ ğŸŸ                | ğŸ› ï¸ ğŸŸ¡               | âŒ ğŸŸ¡         | âŒ ğŸŸ¡    | ğŸ› ï¸ ğŸŸ¡|
| LOD multi-Ã©chelle planÃ©taire             | âŒ ğŸ”´              | âŒ ğŸŸ                 | âŒ ğŸŸ         | âŒ ğŸŸ    | âŒ ğŸŸ  |
| Streaming terrain continu                | âŒ ğŸ”´              | ğŸ› ï¸ ğŸŸ¡               | âŒ ğŸŸ         | âŒ ğŸŸ¡    | ğŸ› ï¸ ğŸŸ¡|
| PlanÃ¨tes visibles Ã  Ã©chelle astronomique | âŒ ğŸ”´              | âŒ ğŸŸ                 | âŒ ğŸŸ         | âŒ ğŸŸ    | âŒ ğŸŸ  |
| Transition espace â†” atmosphÃ¨re â†” sol     | âŒ ğŸ”´              | âŒ ğŸŸ                 | âŒ ğŸŸ         | âŒ ğŸŸ    | âŒ ğŸŸ  |
| Shader-safe large coordinates            | âŒ ğŸ”´              | ğŸ› ï¸ ğŸŸ¡               | âŒ ğŸŸ         | âŒ ğŸŸ    | ğŸ› ï¸ ğŸŸ¡|
| Masquage artefacts GPU float             | âŒ ğŸŸ                | ğŸ› ï¸ ğŸŸ¡               | âŒ ğŸŸ¡         | âŒ ğŸŸ¡    | ğŸ› ï¸ ğŸŸ¡|
| Culling hiÃ©rarchique multi-Ã©chelle       | âŒ ğŸ”´              | ğŸ› ï¸ ğŸŸ¡               | âŒ ğŸŸ¡         | âŒ ğŸŸ¡    | ğŸ› ï¸ ğŸŸ¡|
| Streaming visuel dÃ©pendant de lâ€™Ã©chelle  | âŒ ğŸ”´              | âŒ ğŸŸ                 | âŒ ğŸŸ         | âŒ ğŸŸ    | âŒ ğŸŸ  |


<details>
    <summary>Renderer moderne (Forward / Deferred)</summary>
> **DÃ©finition :**
> Un renderer moderne dÃ©finit la maniÃ¨re dont la scÃ¨ne est Ã©clairÃ©e et composÃ©e Ã  lâ€™Ã©cran.
> - **Deferred Rendering** : la gÃ©omÃ©trie est rendue dâ€™abord, lâ€™Ã©clairage est calculÃ© ensuite (idÃ©al pour beaucoup de lights).
> - **Forward Rendering / Forward+** : gÃ©omÃ©trie et Ã©clairage sont traitÃ©s ensemble, avec des optimisations type light culling par tile.

> **Importance :**
> Câ€™est la **fondation du pipeline visuel** :
> - gestion de milliers de lights (villes, stations, vaisseaux),
> - compatibilitÃ© avec PBR, shadows avancÃ©es, post-process,
> - performances stables sur scÃ¨nes denses.

> **Context SC-like :**
> Un jeu Ã  la Star Citizen nÃ©cessite :
> - Deferred pour stations spatiales, villes planÃ©taires,
> - Forward+ pour VR, cockpit, scÃ¨nes spatiales trÃ¨s contrastÃ©es,
> - parfois un mix des deux selon le contexte (intÃ©rieur / extÃ©rieur / espace).
</details>

<details>
    <summary>LOD mesh classique</summary>
> **DÃ©finition :**
> SystÃ¨me de **niveaux de dÃ©tail gÃ©omÃ©triques** prÃ©dÃ©finis pour un mesh (LOD0, LOD1, LOD2â€¦), sÃ©lectionnÃ©s selon la distance Ã  la camÃ©ra.

> **Importance :**
> RÃ©duction drastique :
> - du nombre de triangles,
> - des coÃ»ts GPU,
> - des appels de draw.  
> Câ€™est le minimum vital de toute scÃ¨ne 3D scalable.

> **Context SC-like :**
> Toujours utile pour :
> - props, bÃ¢timents secondaires,
> - assets non compatibles Nanite,
> - Ã©lÃ©ments gameplay nÃ©cessitant un contrÃ´le prÃ©cis du mesh (collision, destruction).
</details>

<details>
    <summary>Occlusion culling</summary>
> **DÃ©finition :**
> Technique qui empÃªche le rendu dâ€™objets **cachÃ©s par dâ€™autres** (hors du champ visuel rÃ©el), mÃªme sâ€™ils sont dans le frustum.

> **Importance :**
> - Ã‰vite le rendu inutile,
> - AmÃ©liore fortement les performances en environnements fermÃ©s ou urbains,
> - RÃ©duit la charge GPU et CPU.

> **Context SC-like :**
> Indispensable pour :
> - villes planÃ©taires,
> - intÃ©rieurs complexes de stations,
> - megastructures (hangars, astÃ©roÃ¯des creux).
</details>

<details>
    <summary>HLOD automatique</summary>
> **DÃ©finition :**
> SystÃ¨me qui **fusionne dynamiquement plusieurs meshes** distants en un proxy simplifiÃ© unique (mesh + matÃ©riaux combinÃ©s).

> **Importance :**
> - RÃ©duction massive des draw calls,
> - Simplification du streaming,
> - Transition douce entre niveaux de dÃ©tail.

> **Context SC-like :**
> ClÃ© pour :
> - villes vues depuis lâ€™atmosphÃ¨re,
> - stations vues depuis lâ€™espace,
> - grandes zones industrielles ou complexes urbains.
</details>

<details>
    <summary>Extension C++ native officielle</summary>
> **DÃ©finition :**
> SystÃ¨me de **LOD virtuel automatique** basÃ© sur des clusters de micro-triangles, permettant de rendre des meshes extrÃªmement dÃ©taillÃ©s sans LOD manuels.

> **Importance :**
> - Supprime la gestion manuelle des LODs,
> - Permet des assets ultra-dÃ©taillÃ©s,
> - ScalabilitÃ© quasi automatique.

> **Context SC-like :**
> IdÃ©al pour :
> - surfaces planÃ©taires rocheuses,
> - stations spatiales gigantesques,
> - vaisseaux capitaux visibles de prÃ¨s et de loin.
</details>

<details>
    <summary>Camera-relative rendering</summary>
> **DÃ©finition :**
> Technique consistant Ã  **dÃ©placer lâ€™origine du monde autour de la camÃ©ra**, afin de maintenir des coordonnÃ©es proches de zÃ©ro cÃ´tÃ© GPU.

> **Importance :**
> - Ã‰vite les erreurs de prÃ©cision float,
> - Stabilise le rendu Ã  grande distance,
> - EmpÃªche jitter, z-fighting et artefacts de shadow.

> **Context SC-like :**
> Fondamental pour :
> - transitions espace â†” planÃ¨te,
> - vues orbitales Ã  plusieurs millions de mÃ¨tres,
> - continuitÃ© visuelle sans coupure.
</details>

<details>
    <summary>LOD multi-Ã©chelle planÃ©taire</summary>
> **DÃ©finition :**
> LOD qui ne dÃ©pend pas seulement de la distance camÃ©ra, mais de **lâ€™Ã©chelle de reprÃ©sentation** (orbite, atmosphÃ¨re, surface).

> **Importance :**
> - Permet de passer dâ€™une planÃ¨te â€œsphÃ¨re low-polyâ€ Ã  un terrain dÃ©taillÃ©,
> - Optimise le rendu selon le contexte global,
> - Ã‰vite de charger inutilement du dÃ©tail.

> **Context SC-like :**
> Indispensable pour :
> - planÃ¨te visible depuis lâ€™espace,
> - descente atmosphÃ©rique continue,
> - surface explorable sans Ã©cran de chargement.
</details>

<details>
    <summary>Streaming terrain continu</summary>
> **DÃ©finition :**
> Chargement dynamique et progressif du terrain (heightmaps, meshes, textures) en fonction de la position et de lâ€™Ã©chelle.

> **Importance :**
> - Ã‰vite les temps de chargement,
> - Permet des mondes gigantesques,
> - RÃ©duit drastiquement lâ€™empreinte mÃ©moire.

> **Context SC-like :**
> NÃ©cessaire pour :
> - planÃ¨tes complÃ¨tes,
> - vols longue distance,
> - exploration sans instanciation.
</details>

<details>
    <summary>PlanÃ¨tes visibles Ã  Ã©chelle astronomique</summary>
> **DÃ©finition :**
> CapacitÃ© Ã  afficher une planÃ¨te **depuis des distances orbitales ou interplanÃ©taires**, tout en conservant une cohÃ©rence visuelle.

> **Importance :**
> - Renforce la crÃ©dibilitÃ© du monde,
> - Supprime les transitions artificielles,
> - AmÃ©liore lâ€™immersion.

> **Context SC-like :**
> Pilier du fantasy SC :
> - voir la planÃ¨te depuis lâ€™espace,
> - sâ€™en approcher en temps rÃ©el,
> - atterrir sans rupture.
</details>

<details>
    <summary>Transition espace â†” atmosphÃ¨re â†” sol</summary>
> **DÃ©finition :**
> Pipeline visuel et logique permettant une transition fluide entre :
> - vide spatial,
> - atmosphÃ¨re (scattering),
> - surface planÃ©taire.

> **Importance :**
> - ComplexitÃ© technique Ã©levÃ©e (shaders, LOD, streaming),
> - Point critique pour lâ€™immersion,
> - Source majeure de bugs si mal gÃ©rÃ©e.

> **Context SC-like :**
> Lâ€™un des dÃ©fis centraux :
> - nuages volumÃ©triques,
> - glow atmosphÃ©rique,
> - changement progressif des LODs et shaders.
</details>

<details>
    <summary>Shader-safe large coordinates</summary>
> **DÃ©finition :**
> Techniques shader permettant de manipuler de trÃ¨s grandes coordonnÃ©es sans perte de prÃ©cision (offsets, doubles simulÃ©s, coordonnÃ©es relatives).

> **Importance :**
> - Les shaders GPU utilisent des floats simples,
> - Les grandes distances provoquent des erreurs visibles,
> - NÃ©cessaire pour stabilitÃ© visuelle.

> **Context SC-like :**
> Indispensable pour :
> - surfaces planÃ©taires Ã©loignÃ©es,
> - ombres et Ã©clairage prÃ©cis,
> - effets atmosphÃ©riques Ã  grande Ã©chelle.
</details>

<details>
    <summary>Masquage artefacts GPU float</summary>
> **DÃ©finition :**
> Ensemble de techniques visuelles visant Ã  cacher ou attÃ©nuer les artefacts liÃ©s aux limites de prÃ©cision float (flicker, banding, jitter).

> **Importance :**
> - Le problÃ¨me ne peut pas toujours Ãªtre supprimÃ©,
> - Le masquer est souvent plus rentable,
> - AmÃ©liore la qualitÃ© perÃ§ue.

> **Context SC-like :**
> UtilisÃ© pour :
> - lointains visuels,
> - silhouettes planÃ©taires,
> - transitions douces plutÃ´t que prÃ©cision brute.
</details>

<details>
    <summary>Culling hiÃ©rarchique multi-Ã©chelle</summary>
> **DÃ©finition :**
> SystÃ¨me de culling basÃ© sur une **hiÃ©rarchie spatiale** (galaxie â†’ systÃ¨me â†’ planÃ¨te â†’ rÃ©gion â†’ chunk).

> **Importance :**
> - RÃ©duction massive des calculs inutiles,
> - ScalabilitÃ© extrÃªme,
> - Base de tout moteur Ã  trÃ¨s grande Ã©chelle.

> **Context SC-like :**
> Absolument critique pour :
> - systÃ¨mes stellaires entiers,
> - multiples planÃ¨tes actives,
> - optimisation CPU globale.
</details>

<details>
    <summary>Streaming visuel dÃ©pendant de lâ€™Ã©chelle</summary>
> **DÃ©finition :**
> Le type de rendu, dâ€™assets et de shaders dÃ©pend de lâ€™Ã©chelle dâ€™observation, pas seulement de la distance.

> **Importance :**
> - Permet de changer complÃ¨tement de reprÃ©sentation,
> - Optimise chaque niveau de perception,
> - Rend possible un monde â€œinfiniâ€.

> **Context SC-like :**
> Câ€™est le cÅ“ur de lâ€™illusion :
> - sprite / sphere Ã  grande distance,
> - terrain procedural en approche,
> - dÃ©tails fins au sol,  
sans jamais â€œchanger de jeuâ€.
</details>